<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: slider.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: slider.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** @namespace */ 
(function(window){
	'use strict';

	/** 
	 * Slider which allows to filter the restaurants
	 * 
	 * @namespace
	 * @alias window.app.Slider
	 * @class
	 */
	function Slider () {
		this.$slider = document.getElementById('slider');						
  		this.$labels = document.querySelectorAll('.slider-labels li');

  		this._create();			
	}

	/**
	 * Instanciation of the double range slider
	 */
	Slider.prototype._create = function(){
		noUiSlider.create(this.$slider, {					
	    	start: [0, 5],									
	    	step: 1,									
	    	range: {										
	      	'min': [0],
	      	'max': [5]
	    	},
			format: wNumb({									
				decimals: 0,
			}),
	    	connect: true								
	  	});	

	  	this._activeValues();
	}

	/**
	 * Highlight the active values of the filter after the event 'update' occurs on it
	 */
	Slider.prototype._activeValues = function(){
		const self = this;
		this.$slider.noUiSlider.on('update', function(){
			
			self.$labels.forEach(function(li){
				li.classList.remove('active');
			})	

			self.$min = document.getElementById('value_0' + Math.round(self.getValues()[0]));
  			self.$max = document.getElementById('value_0' + Math.round(self.getValues()[1]));
			self.$min.classList.add('active');
			self.$max.classList.add('active');

		})	
	}

	/**
	 * Return the active values of the filter
	 * 
	 * @returns {array} The active values of the filter
	 */
	Slider.prototype.getValues = function(){
		this.values = this.$slider.noUiSlider.get();
		return this.values;
	}

	/**
	 * Define the 'change' event
	 * 
	 * @param {function} handler - The function to fire when the event 'change' occurs
	 */
	Slider.prototype.changeValues = function(handler){
		const self = this;
		this.$slider.noUiSlider.on('change', function(){
			handler({
				min: self.getValues()[0],
				max: self.getValues()[1]
			});
		});
	}

	window.app = window.app || {};
	window.app.Slider = Slider;
})(window);</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="window.App.html">App</a></li><li><a href="window.app.Controller.html">Controller</a></li><li><a href="window.app.Map.html">Map</a></li><li><a href="window.app.Model.html">Model</a></li><li><a href="window.app.Slider.html">Slider</a></li><li><a href="window.app.Storage.html">Storage</a></li><li><a href="window.app.Template.html">Template</a></li><li><a href="window.app.View.html">View</a></li></ul><h3>Global</h3><ul><li><a href="global.html#eraseCookie">eraseCookie</a></li><li><a href="global.html#getCookie">getCookie</a></li><li><a href="global.html#setCookie">setCookie</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Mar 20 2019 12:55:02 GMT+0100 (GMT+01:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
